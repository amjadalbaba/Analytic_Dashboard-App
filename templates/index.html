<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Dashboard</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      google.charts.load("current", {packages:["corechart", "geochart"]});

      google.charts.setOnLoadCallback(drawPieChart1);
      google.charts.setOnLoadCallback(drawBarChart1);
      google.charts.setOnLoadCallback(drawColumnChart1);
      google.charts.setOnLoadCallback(drawLineChart1);

      function drawBarChart1() {
        var data = google.visualization.arrayToDataTable([
			{% for key, value in jobs.items() %}
				{% if value is string %}
					['{{ key }}', '{{ value }}'],
				{% else %}
					['{{ key }}', {{ value }}],
				{% endif %}
			{% endfor %}
        ]);

        var options = {
          title: 'Top 5 Jobs Posting',
          is3D: true,
          legend: 'none',
		  hAxis: {
          	title: 'Frequency'
          },
          vAxis: {
            title: 'Job Name'
          }
        };

        var chart = new google.visualization.BarChart(document.getElementById('barchart1'));
        chart.draw(data, options);
      }

       function drawPieChart1() {
        var data = google.visualization.arrayToDataTable([
			{% for key, value in seniority.items() %}
				{% if value is string %}
					['{{ key }}', '{{ value }}'],
				{% else %}
					['{{ key }}', {{ value }}],
				{% endif %}
			{% endfor %}
        ]);

        var options = {
          title: 'Different Experiences Level Needed',
		  pieHole: 0.35,
		  pieStartAngle: 100,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart1'));
        chart.draw(data, options);
     }

     function drawColumnChart1() {
        var data = google.visualization.arrayToDataTable([
			{% for key, value in cities.items() %}
				{% if value is string %}
					['{{ key }}', '{{ value }}'],
				{% else %}
					['{{ key }}', {{ value }}],
				{% endif %}
			{% endfor %}
        ]);

        var options = {
          title: 'Top 10 Job Posting Cities',
          is3D: true,
          legend: 'none',
          series: {
            0:{color:'grey'},
            1:{color:'grey'},
            2:{color:'grey'},
            3:{color:'grey'},
            4:{color:'grey'},
            5:{color:'grey'},
            6:{color:'grey'},
            7:{color:'grey'},
            8:{color:'grey'},
            9:{color:'grey'},
          },
		  hAxis: {
          	title: 'City Name',
          	slantedText:true,
          	slantedTextAngle:45,
          	textStyle : {
            fontSize: 10,
       	   },
          },
          vAxis: {
            title: 'Frequency'
          }
        };

        var chart = new google.visualization.ColumnChart(document.getElementById('columnchart1'));
        chart.draw(data, options);
     }

     function drawBarChart1() {
        var data = google.visualization.arrayToDataTable([
			{% for key, value in jobs.items() %}
				{% if value is string %}
					['{{ key }}', '{{ value }}'],
				{% else %}
					['{{ key }}', {{ value }}],
				{% endif %}
			{% endfor %}
        ]);

        var options = {
          title: 'Top 5 Jobs Posting',
          is3D: true,
          legend: 'none',
		  hAxis: {
          	title: 'Frequency',
          },
          vAxis: {
            title: 'Job Name'
          }
        };

        var chart = new google.visualization.BarChart(document.getElementById('barchart1'));
        chart.draw(data, options);
      }

       function drawLineChart1() {
        var data = google.visualization.arrayToDataTable([
			{% for key, value in salrating.items() %}
				{% if value is string %}
					['{{ key }}', '{{ value }}'],
				{% else %}
					['{{ key }}', {{ value }}],
				{% endif %}
			{% endfor %}
        ]);

        var options = {
          title: 'Rating Vs. Average Salaries',
          is3D: true,
          legend: 'none',
		  hAxis: {
          	title: 'Rating',
          	slantedText:true,
          	slantedTextAngle:45,
          	textStyle : {
            	fontSize: 10,
       	   },
          },
          vAxis: {
            title: 'Average Salary (in thousands)'
          }
        };

        var chart = new google.visualization.LineChart(document.getElementById('linechart1'));
        chart.draw(data, options);
     }

    </script>
	<style>

		@import url('https://fonts.googleapis.com/css2?family=Raleway&display=swap');

		h1, h2, h3, h4, h5, h6, a, input, button, ul, li{
    	  font-family: 'Raleway', sans-serif;
		}

		#barchart1, #piechart1, #columnchart1, #linechart1 {
		  box-shadow: 0 4px 6px 0 rgba(0,0,0,.2);
		  border-radius: 25px;
		  padding: 15px;
		  text-align:center;
		}

		nav {
		  box-shadow: 0 6px 8px 0 rgba(0,0,0,.2);
		}

	</style>
</head>
<body>
	<nav class="navbar p-10 mb-3" style="background: #3466CC">
		<a class="navbar-brand" href="/" style="color:white">
			<img src="static/analytics.png" width="30" height="30" class="d-inline-block align-top" style="padding:2px;"> Analytics Dashboard
		</a>
	</nav>
	<center><h1><b>Analytics</b></h1></center><hr width="50%">

	<div class="container">
	  <div class="row">
		<div class="w-100" id="columnchart1" style="width: 600px; height: 400px; margin:10px"></div>
		<div class="col"   id="barchart1" style="width: 600px; height: 400px; margin:10px"></div>
		<div class="col"   id="piechart1" style="width: 600px; height: 400px; margin:10px"></div>
		<div class="w-100" id="linechart1" style="width: 600px; height: 400px; margin:10px"></div>
	  </div>
	</div>

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</body>
</html>
